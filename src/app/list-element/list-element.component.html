<div class="ILL_ListElem -z-10 group bg-slate-100 dark:bg-slate-800 dark:text-white 
border-slate-400 dark:border-slate-900 hover:bg-slate-500 dark:hover:bg-slate-900 text-slate-700" (click)="expandCard()">
    <div class="flex flex-col">
        <!-- Base list item -->
        <div class="flex flex-row items-center">
            <div *ngIf="level_marked_for_removal" 
            class="m-0 p-0 rounded-xl flex flex-col items-center justify-evenly lg:w-[116px] w-0">
                <img src="../../assets/marked_for_removal.png" width="116" height="116"/>
                <p class="bg-slate-800 text-base p-2 -translate-x-48 rounded-lg absolute origin-right shadow-lg select-none scale-0 group-hover:scale-100 transition-all duration-300 w-48">{{ "Marked for removal: " + level_markdown_reason }}</p>
            </div>
            <img [src]="card_yt_thumbnailURL" class="rounded-md lg:w-[235px] w-0 aspect-video shadow-lg">
            <div *ngIf="level_annotated" 
            class="m-0 p-0 rounded-xl flex flex-col items-center justify-evenly lg:w-[116px] w-0">
                <img src="../../assets/annotation.png" width="116" height="116"/>
                <p class="bg-slate-800 text-base p-2 -translate-x-48 rounded-lg absolute origin-right shadow-lg select-none scale-0 group-hover:scale-100 transition-all duration-300 w-48">Annotation: Subject to gameplay and decoration quality exemptions</p>
            </div>
            <b class="font-bold p-2 left-0 h-full lg:text-4xl text-2xl align-middle m-3 select-none">
                {{ '#' + level_position }}
            </b>
            <div class="flex flex-col items-start">
                <h3 class="font-semibold text-2xl">
                    <mat-icon class="lg:scale-0 scale-100 align-middle" *ngIf="level_annotated">assignment</mat-icon>
                    <mat-icon class="lg:scale-0 scale-100 align-middle" *ngIf="level_marked_for_removal">clear</mat-icon>
                    {{ level_name }}
                </h3>
                <p class="text-sm align-bottom p-1 font-light">{{"by " + level_creators_short }}</p>
                
            </div>
            <div class="flex ml-auto mr-1 flex-col items-end justify-evenly">
                <p class="font-light align-text-top">{{'FPS: '+level_fps}}</p>
                <br/>
                <p class="font-medium align-text-bottom lg:text-base text-xs text-right">{{'Level ID: '+level_id}}</p>
                <!-- Tags for the level -->
                <div class="flex flex-row flex-wrap flex-shrink">
                    <b *ngFor="let tag of level_tags" class="bg-blue-600 dark:bg-blue-900 text-white rounded-xl relative 
                    w-fit h-fit font-medium lg:p-2 lg:text-base text-xs p-[6px] shadow-md hover:shadow-xl m-1 hover:scale-105 transition-all duration-300 select-none" >{{tag}}</b>
                </div>
            </div>
        </div>
        
        <!-- Expanded list items -->
        <div class="bg-slate-200 dark:bg-slate-700 border-spacing-2 border-t-4
         border-slate-400 dark:border-slate-500 rounded-lg shadow-lg text-slate-700 dark:text-white transition-all duration-300" 
        *ngIf="card_expanded">
            <div class="flex flex-row items-stretch justify-center align-super">
                <iframe class="p-3 lg:w-[512px] w-0" 
                [src]="card_yt_vidEmbedURL" title="YouTube video player" frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="flex lg:flex-wrap flex-col lg:mr-auto items-center lg:items-start lg:p-3 p-1 lg:border-l-4 lg:border-slate-400 lg:dark:border-slate-500 
                lg:text-lg text-xs overflow-y-scroll h-80 w-full ILL_ListElemScroll">
                    <iframe class="p-3 lg:w-0 w-[360px] lg:h-0 h-[258px]" 
                    [src]="card_yt_vidEmbedURL" title="YouTube video player" frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    <div class="bg-slate-300 dark:bg-slate-600 p-2 rounded-md shadow-md h-fit mx-2 hover:scale-105 hover:shadow-xl transition-all duration-300">
                        <mat-icon class="align-middle">info</mat-icon> <b> Basic level data:</b>
                        <p>{{'Level name: ' + level_name}}</p>
                        <p>{{'Required FPS: ' + level_fps}}</p>
                        <p>{{'Level ID: ' + level_id }}</p>
                        <p>{{'Uploaded by: ' + level_uploader}}</p>
                        <p>{{'GD version: ' + level_gd_version}}</p>
                    </div>
                    <div class="bg-slate-300 dark:bg-slate-600 p-2 m-1 rounded-md shadow-md h-fit mx-2 text-sm hover:scale-105 hover:shadow-xl transition-all duration-300">
                        <mat-icon class="align-middle">build</mat-icon> <b> Creators:</b>
                        <p *ngFor="let creator of level_creators_full">{{ creator }}</p>
                    </div>
                    <div class="bg-slate-300 dark:bg-slate-600 p-2 m-1 rounded-md shadow-md h-fit mx-2 hover:scale-105 hover:shadow-xl transition-all duration-300">
                        <mat-icon class="align-middle">stars</mat-icon> <b>World Record:</b>
                        <p class="font-light italic text-sm">{{"Minimum percent for WR: â‰¥"+level_minimal_wr_percent+"%"}}</p>
                        <p>{{level_wr}}<a [href]="level_wr_yt" *ngIf="level_wr != 'N/A'" class="text-purple-600 underline font-bold"> link</a></p>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</div>
